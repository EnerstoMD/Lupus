<div class="createevent-form">
<form class="event-form" [formGroup]="addEventFormGroup">
    <h4>Creer rendez-vous</h4>
        <mat-tab-group headerPosition=below>
        <mat-tab label="description">
            <h3 mat-dialog-title>
                <mat-form-field class="event-form-section-title" appearance="fill">
                    <mat-label>Titre</mat-label>
                    <input matInput formControlName="title" required>
                </mat-form-field>
            </h3>

            <mat-form-field class="event-form-section-desc" appearance="fill">
                <mat-label>Description</mat-label>
                <textarea matInput formControlName="description"></textarea>
            </mat-form-field>

            <table>
                <tr>
                    <td>
                        <mat-form-field class="event-form-section-date" appearance="fill">
                            <mat-label>Date de debut</mat-label>
                            <input matInput formControlName="startdate">
                            <mat-hint>format: 2002-12-25</mat-hint>
                        </mat-form-field>
                    </td>
                    <td>
                        <mat-form-field class="event-form-section-date" appearance="fill">
                            <mat-label>Heure de debut</mat-label>
                            <input matInput formControlName="starttime">
                            <mat-hint>format: 18:34</mat-hint>
                        </mat-form-field>
                    </td> 
                </tr>
                <tr>
                    <td>
                        <mat-form-field class="event-form-section-date" appearance="fill">
                            <mat-label>Date de fin</mat-label>
                            <input matInput formControlName="enddate">
                            <mat-hint>format: 2002-12-25</mat-hint>
                        </mat-form-field>
                    </td>
                    <td>
                        <mat-form-field class="event-form-section-date" appearance="fill">
                            <mat-label>Heure de fin</mat-label>
                            <input matInput formControlName="endtime">
                            <mat-hint>format: 18:44</mat-hint>
                        </mat-form-field>
                    </td> 
                </tr>
            </table>
        </mat-tab>

        <mat-tab label="coordonnees">
            <mat-form-field class="event-form-section-title" appearance="fill">
                <mat-label>email</mat-label>
                <input matInput formControlName="email">
            </mat-form-field>
            <mat-form-field class="event-form-section-title" appearance="fill">
                <mat-label>numero telephone</mat-label>
                <input matInput formControlName="phone">
            </mat-form-field>
            <mat-form-field class="event-form-section-title" appearance="fill">
                <mat-label>adresse</mat-label>
                <input matInput formControlName="address">
            </mat-form-field>
            <mat-form-field class="event-form-section-title" appearance="fill">
                <mat-label>ville</mat-label>
                <input matInput formControlName="city">
            </mat-form-field>
        </mat-tab>

        <mat-tab label="recherche patients">
            <form class="event-form-section-patient" [formGroup]="searchPatientFormGroup" (ngSubmit)="searchPatient">
                <mat-form-field class="event-form-search" appearance="fill">
                    <mat-label>Recherche le nom d'un patient</mat-label>
                    <input matInput formControlName="name">
                    <mat-hint>Limite aux 5 premiers resultats</mat-hint>
                </mat-form-field>
                <button mat-mini-fab class="search-icon" color="primary" (click)="searchPatient()" ><mat-icon>search</mat-icon></button>
            </form>
            <mat-selection-list #selectedPat [multiple]="false">       
                <mat-card>
                    <mat-list-option *ngFor="let patient of patients" [value]="patient" (click)="prefillInfos(patient)">
                        {{patient.name}} {{patient.lastname}} {{patient.phone}} {{patient.ins_matricule}}
                    </mat-list-option>
                </mat-card>  
            </mat-selection-list>
            <p>Patient concerne: {{(selectedPat.selectedOptions.selected[0]?.value.id)}} </p>
        </mat-tab>
    </mat-tab-group>

    <div mat-dialog-actions>
        <button mat-raised-button type="submit" (click)="addEvent()" ><mat-icon color="accent">add_circle</mat-icon> rendez-vous</button>
    </div>
</form>
</div>